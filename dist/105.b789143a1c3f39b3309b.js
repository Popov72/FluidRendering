"use strict";(self.webpackChunkbabylonjs_fluid_rendering=self.webpackChunkbabylonjs_fluid_rendering||[]).push([[105],{5105:(e,i,s)=>{s.r(i),s.d(i,{FluidSimulationDemoGlass:()=>a});var t=s(6291),o=s(9820);const l=s.p+"370c162a33a228937af8f45b74b949f4.glb";class a extends o.FluidSimulationDemoBase{constructor(e){super(e),this._environmentFile="Country",this._sceneRenderObserver=null,this._boxMesh=null,this._boxMaterial=null,this._cylMesh=null,this._footMesh=null,this.addCollisionVerticalCylinder(new t.Vector3(0,-1.89,0),new t.Vector3(0,0,0),2.2,.12,16,null,.3,!0),this.addCollisionPlane(new t.Vector3(0,1,0),6,.3),this.addCollisionCutHollowSphere(new t.Vector3(0,.2,0),new t.Vector3(0,0,0),.5,.2,.02,16,new t.Vector3(0,1,0)),this._footMeshOfst=new t.Vector3(0,-1.9,0),this.addCollisionVerticalCylinder(new t.Vector3(0,-1.72,0),new t.Vector3(0,0,0),.4,.04,16,null,.6),this._cylMeshOfst=new t.Vector3(0,-1.2,0),this.addCollisionVerticalCylinder(new t.Vector3(0,-1,0),new t.Vector3(0,0,0),.05,1.4,16,null,.6)}async _run(){var e,i;this._boxMesh=this._collisionObjects[2][0],this._footMesh=this._collisionObjects[3][0],this._cylMesh=this._collisionObjects[4][0];const s=null!==(i=null===(e=this._scene.activeCameras)||void 0===e?void 0:e[0])&&void 0!==i?i:this._scene.activeCamera;s&&(s.alpha=3.09,s.beta=1.41,s.radius=6.42),this._fluidRenderObject.object.particleSize=.08,this._fluidRenderObject.targetRenderer.fluidColor=new t.Color3(251/255,218/255,218/255),this._fluidSim.smoothingRadius=.04,this._fluidSim.densityReference=2e4,this._fluidSim.pressureConstant=4,this._fluidSim.viscosity=.01,this._fluidSim.maxVelocity=10,this._fluidSim.maxAcceleration=2e3,this._shapeCollisionRestitution=.95,this._particleGenerator.position.x=.15,this._particleGenerator.position.y=.8,this._particleGenerator.position.z=-.1,this._boxMaterial=new t.PBRMaterial("BoxMeshMat",this._scene),this._boxMaterial.metallic=.3,this._boxMaterial.roughness=0,this._boxMaterial.alpha=.2,this._boxMaterial.backFaceCulling=!1,this._boxMesh.material=this._boxMaterial,this._cylMesh.material=this._boxMaterial.clone("cloned"),this._cylMesh.material.alpha=1,this._footMesh.material=this._cylMesh.material,this._sceneRenderObserver=this._scene.onBeforeRenderObservable.add((()=>{this._cylMesh.position.copyFrom(this._boxMesh.position),this._cylMesh.position.addInPlace(this._cylMeshOfst),this._footMesh.position.copyFrom(this._boxMesh.position),this._footMesh.position.addInPlace(this._footMeshOfst)})),super._run(),await t.SceneLoader.AppendAsync("",l,this._scene);const o=this._scene.getMeshByName("Object_3");o.scaling.setAll(6),o.position.set(-2.3,-2,-5.54)}dispose(){var e,i,s,t,o,l,a;super.dispose(),this._scene.onBeforeRenderObservable.remove(this._sceneRenderObserver),null===(e=this._scene.getMeshByName("__root__"))||void 0===e||e.dispose(!1,!0),null===(i=this._boxMesh)||void 0===i||i.dispose(),null===(s=this._boxMaterial)||void 0===s||s.dispose(),null===(o=null===(t=this._cylMesh)||void 0===t?void 0:t.material)||void 0===o||o.dispose(),null===(l=this._cylMesh)||void 0===l||l.dispose(),null===(a=this._footMesh)||void 0===a||a.dispose()}_makeGUIMainMenu(){const e={restart:()=>{this._generateParticles()},boxOpacity:this._boxMaterial.alpha},i=this._gui;i.add(e,"restart").name("Restart"),i.add(e,"boxOpacity",0,1,.01).name("Glass opacity").onChange((e=>{this._boxMaterial.alpha=e}))}}}}]);
//# sourceMappingURL=105.b789143a1c3f39b3309b.js.map